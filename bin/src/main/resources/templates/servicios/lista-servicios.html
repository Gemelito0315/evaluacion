<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/common :: head('Servicios · Tutorías & Coaching')}"></head>
<body class="bg-light">
  <div th:replace="~{fragments/common :: navbar('servicios')}"></div>
  <div th:replace="~{fragments/common :: flash}"></div>

  <main class="container py-4">
    <div class="page-header">
      <h3 class="title mb-0"><i class="fa-solid fa-book-open me-2 text-primary"></i>Servicios académicos</h3>
      <a th:href="@{/servicios/nuevo}" class="btn btn-brand"><i class="fa-solid fa-plus me-1"></i>Nuevo servicio</a>
    </div>

    <p class="text-muted">Gestiona los servicios de tutorías, coaching académico y clases personalizadas que ofreces a estudiantes.</p>

    <div th:if="${#lists.isEmpty(servicios)}" class="alert alert-info">No hay servicios registrados.</div>

    <div th:unless="${#lists.isEmpty(servicios)}" class="card shadow-sm">
      <div class="table-responsive">
        <table class="table align-middle mb-0">
          <thead>
            <tr>
              <th>#</th>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Duración</th>
              <th class="text-end">Precio</th>
              <th class="text-end">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="s : ${servicios}">
              <td th:text="${s.id}">1</td>
              <td th:text="${s.nombre}">Álgebra Básica</td>
              <td th:text="${s.descripcion}">Tutoría 1:1</td>
              <td th:text="${s.duracion}">60 min</td>
              <td class="text-end"><span class="badge badge-soft" th:text="${#numbers.formatDecimal(s.precio,1,2)}">0.00</span></td>
              <td class="text-end">
                <div class="btn-group btn-group-sm" role="group">
                  <a class="btn btn-outline-primary" th:href="@{'/servicios/editar/' + ${s.id}}"><i class="fa-solid fa-pen"></i></a>
                  <a class="btn btn-outline-danger" th:href="@{'/servicios/eliminar/' + ${s.id}}" onclick="return confirm('¿Eliminar servicio?')"><i class="fa-solid fa-trash"></i></a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="mt-3">
      <a class="btn btn-secondary" th:href="@{/citas}"><i class="fa-solid fa-house"></i> Inicio</a>
    </div>
  </main>

  <div th:replace="~{fragments/common :: footer}"></div>
</body>
</html>
